const assert = require('assert')
const KNearestNeighbors = require('../')

describe('KNearestNeighbors', () => {
  describe('#classify()', () => {
    it('Returns the unique type for nearest neighbor', () => {
      const machine = new KNearestNeighbors([
        {
          x: 0,
          y: 0,
          class: 'good',
        },
        {
          x: 10,
          y: 10,
          class: 'bad',
        },
        {
          x: 1,
          y: 1,
          class: 'ugly',
        },
      ], [
        'x',
        'y',
      ])
      assert.equal(machine.classify({
        x: 1,
        y: 1,
      }, 1, 'class'), 'ugly')
    })
    it('Returns most common type from nearest neighbors', () => {
      const machine = new KNearestNeighbors([
        {
          x: 0,
          y: 0,
          class: 'good',
        },
        {
          x: 10,
          y: 10,
          class: 'bad',
        },
        {
          x: 10,
          y: 10,
          class: 'good',
        },
      ], [
        'x',
        'y',
      ])
      assert.equal(machine.classify({
        x: 5,
        y: 7.5,
      }, 3, 'class'), 'good')
    })
  })
})
